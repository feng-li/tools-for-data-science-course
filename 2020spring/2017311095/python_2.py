Python 3.7.0 (v3.7.0:1bf9cc5093, Jun 27 2018, 04:59:51) [MSC v.1914 64 bit (AMD64)] on win32
Type "copyright", "credits" or "license()" for more information.
>>> with open('C:/Users/lenovo/.spyder-py3/BABAnews.txt',mode='r',encoding='UTF-8') as f:
    print(f.read())

    从2009年淘宝商城的促销活动，到2016年天猫商城全天交易额超越1207亿，“双十一”经过八年的升温，已经逐渐成长能够影响世界的中国电子商务行业年度盛事。在风光的“双十一”背后，技术保障团队又有什么样鲜为人知的故事呢？4月12日，阿里巴巴技术团队在京召开了分享会，独家揭秘“双十一”背后的“故事”，同时向大家推荐了题为《尽在双11——阿里巴巴技术演进与超越》的互联网丛书。
    作为迄今为止，阿里巴巴集团唯一官方出品、全面阐述双 11 八年以来在技术和商业上演进和创新历程的书籍，《尽在双11——阿里巴巴技术演进与超越》由电子工业出版社博文视点与阿里巴巴联合出版。本书从五个方面全面精炼生动地进行剖析，揭秘世界奇迹双11背后的技术演进与创新，内容涵盖了双 11 背景下阿里技术架构八年来的演进，如何确保稳定性这条双 11 生命线的安全和可靠，技术和商业交织发展的历程，无线和互动的持续创新与突破，以及对商家的赋能和生态的促进与繁荣。
    “1秒钟同时完成12万笔支付、单日交易额定格在1207亿元、每秒同时创建17.5万笔订单……”在这一串惊人的数字背后，蕴藏着技术团队鲜为人知的故事，对于他们来说，每年双11最紧张的就是午夜零点难以想象的流量。会议现场，双十一技术团部大队长陈琴、双十一稳定性负责人丁宇、认知计算实验室负责人袁泉分别从各自负责的业务板块，向大家细致解读了“双十一”背后，技术团队所付出的艰辛。三位负责人纷纷表示，他们分享的内容都包含在《尽在双11——阿里巴巴技术演进与超越》一书中，是双11八年成长经验与技术创新的总结，也是阿里成长中摸索出的方法和方向的汇聚，更是诸多技术同学与技术大神的倾囊分享。
    阿里巴巴集团CEO张勇，对该书给予了高度的肯定。他认为，“《尽在双11——阿里巴巴技术演进与超越》以双11为着眼点，从技术的角度，展示了阿里巴巴的演进、变革与发展，系统地阐述了阿里巴巴重要阶段的技术进步历程。进无止境，我们希望将我们的经验分享给更多人，并希望与大家一起共同探索未来。”
    阿里巴巴集团CTO张剑锋也力荐《尽在双11——阿里巴巴技术演进与超越》一书。他说，“《尽在双11——阿里巴巴技术演进与超越》是对“双11”技术演进客观、翔实的还原，迄今为止还没有类似的其他书。”（周靖杰）


f.closed
Out[7]: True

myfile=open('C:/Users/lenovo/.spyder-py3/BABAnews.txt','r',encoding='UTF-8')

text=myfile.read()

myfile.close()

print(text)
    从2009年淘宝商城的促销活动，到2016年天猫商城全天交易额超越1207亿，“双十一”经过八年的升温，已经逐渐成长能够影响世界的中国电子商务行业年度盛事。在风光的“双十一”背后，技术保障团队又有什么样鲜为人知的故事呢？4月12日，阿里巴巴技术团队在京召开了分享会，独家揭秘“双十一”背后的“故事”，同时向大家推荐了题为《尽在双11——阿里巴巴技术演进与超越》的互联网丛书。
    作为迄今为止，阿里巴巴集团唯一官方出品、全面阐述双 11 八年以来在技术和商业上演进和创新历程的书籍，《尽在双11——阿里巴巴技术演进与超越》由电子工业出版社博文视点与阿里巴巴联合出版。本书从五个方面全面精炼生动地进行剖析，揭秘世界奇迹双11背后的技术演进与创新，内容涵盖了双 11 背景下阿里技术架构八年来的演进，如何确保稳定性这条双 11 生命线的安全和可靠，技术和商业交织发展的历程，无线和互动的持续创新与突破，以及对商家的赋能和生态的促进与繁荣。
    “1秒钟同时完成12万笔支付、单日交易额定格在1207亿元、每秒同时创建17.5万笔订单……”在这一串惊人的数字背后，蕴藏着技术团队鲜为人知的故事，对于他们来说，每年双11最紧张的就是午夜零点难以想象的流量。会议现场，双十一技术团部大队长陈琴、双十一稳定性负责人丁宇、认知计算实验室负责人袁泉分别从各自负责的业务板块，向大家细致解读了“双十一”背后，技术团队所付出的艰辛。三位负责人纷纷表示，他们分享的内容都包含在《尽在双11——阿里巴巴技术演进与超越》一书中，是双11八年成长经验与技术创新的总结，也是阿里成长中摸索出的方法和方向的汇聚，更是诸多技术同学与技术大神的倾囊分享。
    阿里巴巴集团CEO张勇，对该书给予了高度的肯定。他认为，“《尽在双11——阿里巴巴技术演进与超越》以双11为着眼点，从技术的角度，展示了阿里巴巴的演进、变革与发展，系统地阐述了阿里巴巴重要阶段的技术进步历程。进无止境，我们希望将我们的经验分享给更多人，并希望与大家一起共同探索未来。”
    阿里巴巴集团CTO张剑锋也力荐《尽在双11——阿里巴巴技术演进与超越》一书。他说，“《尽在双11——阿里巴巴技术演进与超越》是对“双11”技术演进客观、翔实的还原，迄今为止还没有类似的其他书。”（周靖杰）


myfile=open('C:/Users/lenovo/.spyder-py3/BABAnews.txt','r',encoding='UTF-8')

myfile.read()
Out[13]: '    从2009年淘宝商城的促销活动，到2016年天猫商城全天交易额超越1207亿，“双十一”经过八年的升温，已经逐渐成长能够影响世界的中国电子商务行业年度盛事。在风光的“双十一”背后，技术保障团队又有什么样鲜为人知的故事呢？4月12日，阿里巴巴技术团队在京召开了分享会，独家揭秘“双十一”背后的“故事”，同时向大家推荐了题为《尽在双11——阿里巴巴技术演进与超越》的互联网丛书。\n    作为迄今为止，阿里巴巴集团唯一官方出品、全面阐述双 11 八年以来在技术和商业上演进和创新历程的书籍，《尽在双11——阿里巴巴技术演进与超越》由电子工业出版社博文视点与阿里巴巴联合出版。本书从五个方面全面精炼生动地进行剖析，揭秘世界奇迹双11背后的技术演进与创新，内容涵盖了双 11 背景下阿里技术架构八年来的演进，如何确保稳定性这条双 11 生命线的安全和可靠，技术和商业交织发展的历程，无线和互动的持续创新与突破，以及对商家的赋能和生态的促进与繁荣。\n    “1秒钟同时完成12万笔支付、单日交易额定格在1207亿元、每秒同时创建17.5万笔订单……”在这一串惊人的数字背后，蕴藏着技术团队鲜为人知的故事，对于他们来说，每年双11最紧张的就是午夜零点难以想象的流量。会议现场，双十一技术团部大队长陈琴、双十一稳定性负责人丁宇、认知计算实验室负责人袁泉分别从各自负责的业务板块，向大家细致解读了“双十一”背后，技术团队所付出的艰辛。三位负责人纷纷表示，他们分享的内容都包含在《尽在双11——阿里巴巴技术演进与超越》一书中，是双11八年成长经验与技术创新的总结，也是阿里成长中摸索出的方法和方向的汇聚，更是诸多技术同学与技术大神的倾囊分享。\n    阿里巴巴集团CEO张勇，对该书给予了高度的肯定。他认为，“《尽在双11——阿里巴巴技术演进与超越》以双11为着眼点，从技术的角度，展示了阿里巴巴的演进、变革与发展，系统地阐述了阿里巴巴重要阶段的技术进步历程。进无止境，我们希望将我们的经验分享给更多人，并希望与大家一起共同探索未来。”\n    阿里巴巴集团CTO张剑锋也力荐《尽在双11——阿里巴巴技术演进与超越》一书。他说，“《尽在双11——阿里巴巴技术演进与超越》是对“双11”技术演进客观、翔实的还原，迄今为止还没有类似的其他书。”（周靖杰）\n'

myfile=open('C:/Users/lenovo/.spyder-py3/BABAnews.txt','r')

myfile.readline()
Traceback (most recent call last):

  File "<ipython-input-15-fd241b73efd7>", line 1, in <module>
    myfile.readline()

UnicodeDecodeError: 'gbk' codec can't decode byte 0x8e in position 6: illegal multibyte sequence


myfile=open('C:/Users/lenovo/.spyder-py3/BABAnews.txt','r',encoding='UTF-8')

myfile.readline()
Out[17]: '    从2009年淘宝商城的促销活动，到2016年天猫商城全天交易额超越1207亿，“双十一”经过八年的升温，已经逐渐成长能够影响世界的中国电子商务行业年度盛事。在风光的“双十一”背后，技术保障团队又有什么样鲜为人知的故事呢？4月12日，阿里巴巴技术团队在京召开了分享会，独家揭秘“双十一”背后的“故事”，同时向大家推荐了题为《尽在双11——阿里巴巴技术演进与超越》的互联网丛书。\n'

myfile.readlines()
Out[18]: 
['    作为迄今为止，阿里巴巴集团唯一官方出品、全面阐述双 11 八年以来在技术和商业上演进和创新历程的书籍，《尽在双11——阿里巴巴技术演进与超越》由电子工业出版社博文视点与阿里巴巴联合出版。本书从五个方面全面精炼生动地进行剖析，揭秘世界奇迹双11背后的技术演进与创新，内容涵盖了双 11 背景下阿里技术架构八年来的演进，如何确保稳定性这条双 11 生命线的安全和可靠，技术和商业交织发展的历程，无线和互动的持续创新与突破，以及对商家的赋能和生态的促进与繁荣。\n',
 '    “1秒钟同时完成12万笔支付、单日交易额定格在1207亿元、每秒同时创建17.5万笔订单……”在这一串惊人的数字背后，蕴藏着技术团队鲜为人知的故事，对于他们来说，每年双11最紧张的就是午夜零点难以想象的流量。会议现场，双十一技术团部大队长陈琴、双十一稳定性负责人丁宇、认知计算实验室负责人袁泉分别从各自负责的业务板块，向大家细致解读了“双十一”背后，技术团队所付出的艰辛。三位负责人纷纷表示，他们分享的内容都包含在《尽在双11——阿里巴巴技术演进与超越》一书中，是双11八年成长经验与技术创新的总结，也是阿里成长中摸索出的方法和方向的汇聚，更是诸多技术同学与技术大神的倾囊分享。\n',
 '    阿里巴巴集团CEO张勇，对该书给予了高度的肯定。他认为，“《尽在双11——阿里巴巴技术演进与超越》以双11为着眼点，从技术的角度，展示了阿里巴巴的演进、变革与发展，系统地阐述了阿里巴巴重要阶段的技术进步历程。进无止境，我们希望将我们的经验分享给更多人，并希望与大家一起共同探索未来。”\n',
 '    阿里巴巴集团CTO张剑锋也力荐《尽在双11——阿里巴巴技术演进与超越》一书。他说，“《尽在双11——阿里巴巴技术演进与超越》是对“双11”技术演进客观、翔实的还原，迄今为止还没有类似的其他书。”（周靖杰）\n']

with open('C:/Users/lenovo/.spyder-py3/Titanic.csv','r') as myfile:
    for line in myfile:
        print(line,end='')

ID,Class,Sex,Age,Survived,Freq
1,1st,Male,Child,No,0
2,2nd,Male,Child,No,0
3,3rd,Male,Child,No,35
4,Crew,Male,Child,No,0
5,1st,Female,Child,No,0
6,2nd,Female,Child,No,0
7,3rd,Female,Child,No,17
8,Crew,Female,Child,No,0
9,1st,Male,Adult,No,118
10,2nd,Male,Adult,No,154
11,3rd,Male,Adult,No,387
12,Crew,Male,Adult,No,670
13,1st,Female,Adult,No,4
14,2nd,Female,Adult,No,13
15,3rd,Female,Adult,No,89
16,Crew,Female,Adult,No,3
17,1st,Male,Child,Yes,5
18,2nd,Male,Child,Yes,11
19,3rd,Male,Child,Yes,13
20,Crew,Male,Child,Yes,0
21,1st,Female,Child,Yes,1
22,2nd,Female,Child,Yes,13
23,3rd,Female,Child,Yes,14
24,Crew,Female,Child,Yes,0
25,1st,Male,Adult,Yes,57
26,2nd,Male,Adult,Yes,14
27,3rd,Male,Adult,Yes,75
28,Crew,Male,Adult,Yes,192
29,1st,Female,Adult,Yes,140
30,2nd,Female,Adult,Yes,80
31,3rd,Female,Adult,Yes,76
32,Crew,Female,Adult,Yes,20

file=open('C:/Users/lenovo/.spyder-py3/testfile.txt','w')

file.write('Hello world \n')
Out[21]: 13

file.write('and this is another line.')
Out[22]: 25

file.close()

This time, we have `tobuy`, a list of strings, which `writelines()` writes out at once:
tobuy = ['milk\n', 'butter\n', 'coffee beans\n', 'arugula\n']    
  File "<ipython-input-24-5cbb4b7fb250>", line 1
    This time, we have `tobuy`, a list of strings, which `writelines()` writes out at once:
            ^
SyntaxError: invalid syntax

import numpy as np

data=np.loadtxt('C:/Users/lenovo/.spyder-py3/BJsales.txt', skiprows = 1, delimiter='\t')

print(data)
[[  1.    1.  200.1]
 [  2.    2.  199.5]
 [  3.    3.  199.4]
 [  4.    4.  198.9]
 [  5.    5.  199. ]
 [  6.    6.  200.2]
 [  7.    7.  198.6]
 [  8.    8.  200. ]
 [  9.    9.  200.3]
 [ 10.   10.  201.2]
 [ 11.   11.  201.6]
 [ 12.   12.  201.5]
 [ 13.   13.  201.5]
 [ 14.   14.  203.5]
 [ 15.   15.  204.9]
 [ 16.   16.  207.1]
 [ 17.   17.  210.5]
 [ 18.   18.  210.5]
 [ 19.   19.  209.8]
 [ 20.   20.  208.8]
 [ 21.   21.  209.5]
 [ 22.   22.  213.2]
 [ 23.   23.  213.7]
 [ 24.   24.  215.1]
 [ 25.   25.  218.7]
 [ 26.   26.  219.8]
 [ 27.   27.  220.5]
 [ 28.   28.  223.8]
 [ 29.   29.  222.8]
 [ 30.   30.  223.8]
 [ 31.   31.  221.7]
 [ 32.   32.  222.3]
 [ 33.   33.  220.8]
 [ 34.   34.  219.4]
 [ 35.   35.  220.1]
 [ 36.   36.  220.6]
 [ 37.   37.  218.9]
 [ 38.   38.  217.8]
 [ 39.   39.  217.7]
 [ 40.   40.  215. ]]

import csv

with open('C:/Users/lenovo/.spyder-py3/Titanic.csv') as csvfile:
    titanicreader=csv.reader(csvfile)
    for row in titanicreader:
        print(' '.join(row))

ID Class Sex Age Survived Freq
1 1st Male Child No 0
2 2nd Male Child No 0
3 3rd Male Child No 35
4 Crew Male Child No 0
5 1st Female Child No 0
6 2nd Female Child No 0
7 3rd Female Child No 17
8 Crew Female Child No 0
9 1st Male Adult No 118
10 2nd Male Adult No 154
11 3rd Male Adult No 387
12 Crew Male Adult No 670
13 1st Female Adult No 4
14 2nd Female Adult No 13
15 3rd Female Adult No 89
16 Crew Female Adult No 3
17 1st Male Child Yes 5
18 2nd Male Child Yes 11
19 3rd Male Child Yes 13
20 Crew Male Child Yes 0
21 1st Female Child Yes 1
22 2nd Female Child Yes 13
23 3rd Female Child Yes 14
24 Crew Female Child Yes 0
25 1st Male Adult Yes 57
26 2nd Male Adult Yes 14
27 3rd Male Adult Yes 75
28 Crew Male Adult Yes 192
29 1st Female Adult Yes 140
30 2nd Female Adult Yes 80
31 3rd Female Adult Yes 76
32 Crew Female Adult Yes 20

import pandas as pd

titanicdata=pd.read_csv('C:/Users/lenovo/.spyder-py3/Titanic.csv')

titannicdata.head()
Traceback (most recent call last):

  File "<ipython-input-8-195406251b02>", line 1, in <module>
    titannicdata.head()

NameError: name 'titannicdata' is not defined


titanicdata.head()
Out[9]: 
   ID Class     Sex    Age Survived  Freq
0   1   1st    Male  Child       No     0
1   2   2nd    Male  Child       No     0
2   3   3rd    Male  Child       No    35
3   4  Crew    Male  Child       No     0
4   5   1st  Female  Child       No     0

titanicData = pd.read_table('C:/Users/lenovo/.spyder-py3/Titanic.csv', sep=',')

titanicdata.head()
Out[11]: 
   ID Class     Sex    Age Survived  Freq
0   1   1st    Male  Child       No     0
1   2   2nd    Male  Child       No     0
2   3   3rd    Male  Child       No    35
3   4  Crew    Male  Child       No     0
4   5   1st  Female  Child       No     0

sales = pd.read_csv('C:/Users/lenovo/.spyder-py3/BJsales.csv', header = None)

sale.head()
Traceback (most recent call last):

  File "<ipython-input-13-f3a87c8cf670>", line 1, in <module>
    sale.head()

NameError: name 'sale' is not defined


sales.head()
Out[14]: 
   0  1      2
0  1  1  200.1
1  2  2  199.5
2  3  3  199.4
3  4  4  198.9
4  5  5  199.0

sales = pd.read_csv('file:///C:/Users/lenovo/.spyder-py3/BJsales.csv', names=['ID', 'Time', 'Value'])

sales.read
Traceback (most recent call last):

  File "<ipython-input-16-c4a916c3312e>", line 1, in <module>
    sales.read

  File "C:\Users\lenovo\anaconda3\lib\site-packages\pandas\core\generic.py", line 5274, in __getattr__
    return object.__getattribute__(self, name)

AttributeError: 'DataFrame' object has no attribute 'read'


sales.head()
Out[17]: 
   ID  Time  Value
0   1     1  200.1
1   2     2  199.5
2   3     3  199.4
3   4     4  198.9
4   5     5  199.0

sales.to_csv('spyder.lock/sales.csv', index = False)

import pandas as pd

file='data/example.xlsx'

myfile = pd.ExcelFile(file)

print(myfile.sheet_names) #printing out all the sheet names in the excel file
['HairEyeColor', 'Nile']

dataframe = myfile.parse('HairEyeColor')

dataframe.head()
Out[24]: 
   ID   Hair    Eye   Sex  Freq
0   1  Black  Brown  Male    32
1   2  Brown  Brown  Male    53
2   3    Red  Brown  Male    10
3   4  Blond  Brown  Male     3
4   5  Black   Blue  Male    11

import PyPDF2
Traceback (most recent call last):

  File "<ipython-input-25-69e9e6162b4c>", line 1, in <module>
    import PyPDF2

ModuleNotFoundError: No module named 'PyPDF2'


pip install PyPDF2
Collecting PyPDF2
  Downloading PyPDF2-1.26.0.tar.gz (77 kB)
Building wheels for collected packages: PyPDF2
  Building wheel for PyPDF2 (setup.py): started
  Building wheel for PyPDF2 (setup.py): finished with status 'done'
  Created wheel for PyPDF2: filename=PyPDF2-1.26.0-py3-none-any.whl size=61087 sha256=5ab1527ce13d1429a6239ab3e61e907f2f199b012668615c1f49c94441ec09d4
  Stored in directory: c:\users\lenovo\appdata\local\pip\cache\wheels\80\1a\24\648467ade3a77ed20f35cfd2badd32134e96dd25ca811e64b3
Successfully built PyPDF2
Installing collected packages: PyPDF2
Successfully installed PyPDF2-1.26.0
Note: you may need to restart the kernel to use updated packages.

import PyPDF2

pdfFileObj = open('data/Li2011Wiley.pdf', 'rb')

pdfReader = PyPDF2.PdfFileReader(pdfFileObj)

pdfReader.numPages
Out[30]: 1

pageObj = pdfReader.getPage(0)

print(pageObj.extractText())
MODELINGCONDITIONALDENSITIESUSINGFINITESMOOTH
MIXTURES
FENGLI,MATTIASVILLANI,ANDROBERTKOHN
SverigesRiksbankWorkingPaperSeriesNo.245
August2010
Abstract.
Smoothmixtures,i.e.mixturemodelswithcovariate-depen
dentmixingweights,
areveryusefulexiblemodelsforconditionaldensities.P
reviousworkshowsthatusingtoo
simplemixturecomponentsformodelingheteroscedastican
d/orheavytaileddatacangive
apoort,evenwithalargenumberofcomponents.Thispapere
xploreshowwellasmooth
mixtureofsymmetriccomponentscancaptureskeweddata.Si
mulationsandapplicationson
realdatashowthatincludingcovariate-dependentskewnes
sinthecomponentscanleadto
substantiallyimprovedperformanceonskeweddata,oftenu
singamuchsmallernumberof
components.Furthermore,variableselectioniseectivei
nremovingunnecessarycovariatesin
theskewness,whichmeansthatthereislittlelossinallowi
ngforskewnessinthecomponents
whenthedataareactuallysymmetric.Wealsointroducesmoo
thmixturesofgammaand
log-normalcomponentstomodelpositively-valuedrespons
evariables.
Keywords
:Bayesianinference,MarkovchainMonteCarlo,MixtureofE
xperts,Variable
selection
Li:DepartmentofStatistics,StockholmUniversity,SE-10
691Stockholm,Sweden.Villani:Research
Division,SverigesRiksbankandDepartmentofStatistics,
StockholmUniversity.Kohn:AustralianSchool
ofBusiness,UniversityofNewSouthWales,UNSW,Sydney205
2,Australia.Theviewsexpressedinthis
paperaresolelytheresponsibilityoftheauthorsandshoul
dnotbeinterpretedasreectingtheviewsofthe
ExecutiveBoardofSverigesRiksbank.
1


pdfFileObj.close()

import docx
Traceback (most recent call last):

  File "<ipython-input-34-326e089686b3>", line 1, in <module>
    import docx

ModuleNotFoundError: No module named 'docx'


pip install docx
Collecting docx
  Downloading docx-0.2.4.tar.gz (54 kB)
Requirement already satisfied: lxml in c:\users\lenovo\anaconda3\lib\site-packages (from docx) (4.5.0)
Requirement already satisfied: Pillow>=2.0 in c:\users\lenovo\anaconda3\lib\site-packages (from docx) (7.0.0)
Building wheels for collected packages: docx
  Building wheel for docx (setup.py): started
  Building wheel for docx (setup.py): finished with status 'done'
  Created wheel for docx: filename=docx-0.2.4-py3-none-any.whl size=53930 sha256=6ea22a2ce17211b6aef7baa8a326356d58004ee868bacb052b3f9230f7686d0c
  Stored in directory: c:\users\lenovo\appdata\local\pip\cache\wheels\dc\ac\45\846e21706415c92fc6e0964e343be1eb31cfc63e149dee5fbe
Successfully built docx
Installing collected packages: docx
Successfully installed docx-0.2.4
Note: you may need to restart the kernel to use updated packages.

import docx
Traceback (most recent call last):

  File "<ipython-input-36-326e089686b3>", line 1, in <module>
    import docx

  File "C:\Users\lenovo\anaconda3\lib\site-packages\docx.py", line 30, in <module>
    from exceptions import PendingDeprecationWarning

ModuleNotFoundError: No module named 'exceptions'


import docx
Traceback (most recent call last):

  File "<ipython-input-37-326e089686b3>", line 1, in <module>
    import docx

  File "C:\Users\lenovo\anaconda3\lib\site-packages\docx.py", line 30, in <module>
    from exceptions import PendingDeprecationWarning

ModuleNotFoundError: No module named 'exceptions'


import requests

url = 'https://sp0.baidu.com/8aQDcjqpAAV3otqbppnN2DJv/api.php?resource_id=6899&query=失信执行人名单&iname=中国银行'

resp = requests.get(url)

import json

data = json.loads(resp.text, encoding='gb18030')
Traceback (most recent call last):

  File "<ipython-input-42-18085be14e19>", line 1, in <module>
    data = json.loads(resp.text, encoding='gb18030')

  File "C:\Users\lenovo\anaconda3\lib\json\__init__.py", line 348, in loads
    return _default_decoder.decode(s)

  File "C:\Users\lenovo\anaconda3\lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())

  File "C:\Users\lenovo\anaconda3\lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None

JSONDecodeError: Expecting value


data = json.loads(resp.text, encoding=''gb18030'')
  File "<ipython-input-43-22e3e3431b11>", line 1
    data = json.loads(resp.text, encoding=''gb18030'')
                                                  ^
SyntaxError: invalid syntax


data = json.loads(resp.text, encoding='gb18030')
Traceback (most recent call last):

  File "<ipython-input-44-18085be14e19>", line 1, in <module>
    data = json.loads(resp.text, encoding='gb18030')

  File "C:\Users\lenovo\anaconda3\lib\json\__init__.py", line 348, in loads
    return _default_decoder.decode(s)

  File "C:\Users\lenovo\anaconda3\lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())

  File "C:\Users\lenovo\anaconda3\lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None

JSONDecodeError: Expecting value


data = json.loads(resp.text, encoding='UTF-8')
Traceback (most recent call last):

  File "<ipython-input-45-f70678c14cf0>", line 1, in <module>
    data = json.loads(resp.text, encoding='UTF-8')

  File "C:\Users\lenovo\anaconda3\lib\json\__init__.py", line 348, in loads
    return _default_decoder.decode(s)

  File "C:\Users\lenovo\anaconda3\lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())

  File "C:\Users\lenovo\anaconda3\lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None

JSONDecodeError: Expecting value


import sqlite3

connection = sqlite3.connect("survey.db")

cursor = connection.cursor()

cursor.execute("SELECT Site.lat, Site.long FROM Site;")
Traceback (most recent call last):

  File "<ipython-input-49-4f08c6b5fce0>", line 1, in <module>
    cursor.execute("SELECT Site.lat, Site.long FROM Site;")

OperationalError: no such table: Site

import numpy as np

from scipy import linalg

A = np.array([[1,2],[3,4]])

A
Out[4]: 
array([[1, 2],
       [3, 4]])

linalg.inv(A)
Out[5]: 
array([[-2. ,  1. ],
       [ 1.5, -0.5]])

b = np.array([[5,6]])

b
Out[7]: array([[5, 6]])

b.T
Out[8]: 
array([[5],
       [6]])

A*b
Out[9]: 
array([[ 5, 12],
       [15, 24]])

A.dot(b.T)
Out[10]: 
array([[17],
       [39]])

b = np.array([5,6])

b
Out[12]: array([5, 6])

b.T
Out[13]: array([5, 6])

A.dot(b)
Out[14]: array([17, 39])

A = np.array([[1,2],[3,4]])

A
Out[16]: 
array([[1, 2],
       [3, 4]])

b = np.array([[5],[6]])

b
Out[18]: 
array([[5],
       [6]])

linalg.inv(A).dot(b)
Out[19]: 
array([[-4. ],
       [ 4.5]])

A.dot(linalg.inv(A).dot(b))-b
Out[20]: 
array([[0.00000000e+00],
       [1.77635684e-15]])

np.linalg.solve(A,b)
Out[21]: 
array([[-4. ],
       [ 4.5]])

A.dot(np.linalg.solve(A,b))
Out[22]: 
array([[5.],
       [6.]])

linalg.det(A)
Out[23]: -2.0

import matplotlib.pyplot as plt

c1, c2 = 5.0, 2.0

i = np.r_[1:11]

xi = 0.1*i

yi = c1*np.exp(-xi) + c2*xi

zi = yi + 0.05 * np.max(yi) * np.random.randn(len(yi))

A = np.c_[np.exp(-xi)[:, np.newaxis], xi[:, np.newaxis]]

c, resid, rank, sigma = linalg.lstsq(A, zi)

xi2 = np.r_[0.1:1.0:100j]

yi2 = c[0]*np.exp(-xi2) + c[1]*xi2

plt.plot(xi,zi,'x',xi2,yi2)
Out[34]: 
[<matplotlib.lines.Line2D at 0x26a9379cf88>,
 <matplotlib.lines.Line2D at 0x26a93af6608>]
￼

plt.axis([0,1.1,3.0,5.5])
Out[35]: [0, 1.1, 3.0, 5.5]
￼

plt.xlabel('$x_i$')
Out[36]: Text(0.5, 0, '$x_i$')
￼

plt.title('Data fitting with linalg.lstsq')
Out[37]: Text(0.5, 1.0, 'Data fitting with linalg.lstsq')
￼

plt.show()

plt.plot(xi,zi,'x',xi2,yi2)
Out[39]: 
[<matplotlib.lines.Line2D at 0x26a953b9bc8>,
 <matplotlib.lines.Line2D at 0x26a93af6c08>]
￼

A = np.array([[1,2],[3,4]])

la,v = linalg.eig(A)

l1,l2 = la

print(l1, l2)
(-0.3722813232690143+0j) (5.372281323269014+0j)

print(v[:,0])
[-0.82456484  0.56576746]

print(v[:,1])
[-0.41597356 -0.90937671]

print(np.sum(abs(v**2),axis=0))
[1. 1.]

v1 = np.array(v[:,0]).T

print(linalg.norm(A.dot(v1)-l1*v1))
5.551115123125783e-17

A = np.array([[1,2,3],[4,5,6]])

M,N = A.shape

U,s,Vh = linalg.svd(A)

Sig = linalg.diagsvd(s,M,N)

U, Vh = U, Vh

U
Out[54]: 
array([[-0.3863177 , -0.92236578],
       [-0.92236578,  0.3863177 ]])

Sig
Out[55]: 
array([[9.508032  , 0.        , 0.        ],
       [0.        , 0.77286964, 0.        ]])

Vh
Out[56]: 
array([[-0.42866713, -0.56630692, -0.7039467 ],
       [ 0.80596391,  0.11238241, -0.58119908],
       [ 0.40824829, -0.81649658,  0.40824829]])

U.dot(Sig.dot(Vh))
Out[57]: 
array([[1., 2., 3.],
       [4., 5., 6.]])

from scipy.stats import norm
r = norm.rvs(loc=0, scale=1, size=1000)

mean, var, skew, kurt = norm.stats(moments='mvsk')

mean
Out[60]: array(0.)

var
Out[61]: array(1.)

skew
Out[62]: array(0.)

kurt
Out[63]: array(0.)

norm
Out[64]: <scipy.stats._continuous_distns.norm_gen at 0x26a95b932c8>

from scipy import stats
import numpy as np
x = np.random.random(10)
y = np.random.random(10)
slope, intercept, r_value, p_value, std_err = stats.linregress(x,y)
print({'slope':slope,'intercept':intercept})
print({'p_value':p_value,'r-squared':round(r_value**2,2)})
{'slope': -0.08536129676260142, 'intercept': 0.5043618358468788}
{'p_value': 0.8073589345838659, 'r-squared': 0.01}

from scipy.optimize import minimize

def rosen(x):
    """The Rosenbrock function"""
    return sum(100.0*(x[1:]-x[:-1]**2.0)**2.0 + (1-x[:-1])**2.0)

x0 = np.array([1.3, 0.7, 0.8, 1.9, 1.2])

res = minimize(rosen, x0, method='nelder-mead',
               options={'xtol': 1e-8, 'disp': True})
print(res.x)
Optimization terminated successfully.
         Current function value: 0.000000
         Iterations: 339
         Function evaluations: 571
[1. 1. 1. 1. 1.]

import statsmodels.api as sm
import statsmodels.formula.api as smf
star98 = sm.datasets.star98.load_pandas().data
formula = 'SUCCESS ~ LOWINC + PERASIAN + PERBLACK + PERHISP + PCTCHRT + \
           PCTYRRND + PERMINTE*AVYRSEXP*AVSALK + PERSPENK*PTRATIO*PCTAF'
dta = star98[['NABOVE', 'NBELOW', 'LOWINC', 'PERASIAN', 'PERBLACK', 'PERHISP',
              'PCTCHRT', 'PCTYRRND', 'PERMINTE', 'AVYRSEXP', 'AVSALK',
              'PERSPENK', 'PTRATIO', 'PCTAF']].copy()
endog = dta['NABOVE'] / (dta['NABOVE'] + dta.pop('NBELOW'))
del dta['NABOVE']
dta['SUCCESS'] = endog

mod1 = smf.glm(formula=formula, data=dta, family=sm.families.Binomial()).fit()
mod1.summary()
Out[70]: 
<class 'statsmodels.iolib.summary.Summary'>
"""
                 Generalized Linear Model Regression Results                  
==============================================================================
Dep. Variable:                SUCCESS   No. Observations:                  303
Model:                            GLM   Df Residuals:                      282
Model Family:                Binomial   Df Model:                           20
Link Function:                  logit   Scale:                          1.0000
Method:                          IRLS   Log-Likelihood:                -127.33
Date:                Tue, 24 Mar 2020   Deviance:                       8.5477
Time:                        14:40:23   Pearson chi2:                     8.48
No. Iterations:                     4                                         
Covariance Type:            nonrobust                                         
============================================================================================
                               coef    std err          z      P>|z|      [0.025      0.975]
--------------------------------------------------------------------------------------------
Intercept                    0.4037     25.036      0.016      0.987     -48.665      49.472
LOWINC                      -0.0204      0.010     -1.982      0.048      -0.041      -0.000
PERASIAN                     0.0159      0.017      0.910      0.363      -0.018       0.050
PERBLACK                    -0.0198      0.020     -1.004      0.316      -0.058       0.019
PERHISP                     -0.0096      0.010     -0.951      0.341      -0.029       0.010
PCTCHRT                     -0.0022      0.022     -0.103      0.918      -0.045       0.040
PCTYRRND                    -0.0022      0.006     -0.348      0.728      -0.014       0.010
PERMINTE                     0.1068      0.787      0.136      0.892      -1.436       1.650
AVYRSEXP                    -0.0411      1.176     -0.035      0.972      -2.346       2.264
PERMINTE:AVYRSEXP           -0.0031      0.054     -0.057      0.954      -0.108       0.102
AVSALK                       0.0131      0.295      0.044      0.965      -0.566       0.592
PERMINTE:AVSALK             -0.0019      0.013     -0.145      0.885      -0.028       0.024
AVYRSEXP:AVSALK              0.0008      0.020      0.038      0.970      -0.039       0.041
PERMINTE:AVYRSEXP:AVSALK  5.978e-05      0.001      0.068      0.946      -0.002       0.002
PERSPENK                    -0.3097      4.233     -0.073      0.942      -8.606       7.987
PTRATIO                      0.0096      0.919      0.010      0.992      -1.792       1.811
PERSPENK:PTRATIO             0.0066      0.206      0.032      0.974      -0.397       0.410
PCTAF                       -0.0143      0.474     -0.030      0.976      -0.944       0.916
PERSPENK:PCTAF               0.0105      0.098      0.107      0.915      -0.182       0.203
PTRATIO:PCTAF               -0.0001      0.022     -0.005      0.996      -0.044       0.044
PERSPENK:PTRATIO:PCTAF      -0.0002      0.005     -0.051      0.959      -0.010       0.009
============================================================================================
"""

import numpy as np
from scipy import stats
import pandas as pd
import matplotlib.pyplot as plt
import statsmodels.api as sm
from statsmodels.graphics.api import qqplot

print(sm.datasets.sunspots.NOTE)
::

    Number of Observations - 309 (Annual 1700 - 2008)
    Number of Variables - 1
    Variable name definitions::

        SUNACTIVITY - Number of sunspots for each year

    The data file contains a 'YEAR' variable that is not returned by load.


dta = sm.datasets.sunspots.load_pandas().data
dta.index = pd.Index(sm.tsa.datetools.dates_from_range('1700', '2008'))
del dta["YEAR"]
dta.plot(figsize=(12,8));

￼

fig = plt.figure(figsize=(12,8))
ax1 = fig.add_subplot(211)
fig = sm.graphics.tsa.plot_acf(dta.values.squeeze(), lags=40, ax=ax1)
ax2 = fig.add_subplot(212)
fig = sm.graphics.tsa.plot_pacf(dta, lags=40, ax=ax2)

￼

arma_mod20 = sm.tsa.ARMA(dta, (2,0)).fit(disp=False)
print(arma_mod20.params)
const                49.659312
ar.L1.SUNACTIVITY     1.390656
ar.L2.SUNACTIVITY    -0.688571
dtype: float64
C:\Users\lenovo\anaconda3\lib\site-packages\statsmodels\tsa\base\tsa_model.py:162: ValueWarning: No frequency information was provided, so inferred frequency A-DEC will be used.
  % freq, ValueWarning)

arma_mod30 = sm.tsa.ARMA(dta, (3,0)).fit(disp=False)
resid = arma_mod30.resid
stats.normaltest(resid)
fig = plt.figure(figsize=(12,8))
ax = fig.add_subplot(111)
fig = qqplot(resid, line='q', ax=ax, fit=True)
C:\Users\lenovo\anaconda3\lib\site-packages\statsmodels\tsa\base\tsa_model.py:162: ValueWarning: No frequency information was provided, so inferred frequency A-DEC will be used.
  % freq, ValueWarning)

￼

predict_sunspots = arma_mod30.predict('1990', '2012', dynamic=True)
print(predict_sunspots)
fig, ax = plt.subplots(figsize=(12, 8))
ax = dta.ix['1950':].plot(ax=ax)
fig = arma_mod30.plot_predict('1990', '2012', dynamic=True, ax=ax, plot_insample=False)
1990-12-31    167.047414
1991-12-31    140.992989
1992-12-31     94.859089
1993-12-31     46.860866
1994-12-31     11.242545
1995-12-31     -4.721333
1996-12-31     -1.166945
1997-12-31     16.185668
1998-12-31     39.021870
1999-12-31     59.449866
2000-12-31     72.170139
2001-12-31     75.376777
2002-12-31     70.436445
2003-12-31     60.731564
2004-12-31     50.201767
2005-12-31     42.075994
2006-12-31     38.114254
2007-12-31     38.454614
2008-12-31     41.963791
2009-12-31     46.869267
2010-12-31     51.423244
2011-12-31     54.399702
2012-12-31     55.321673
Freq: A-DEC, dtype: float64
Traceback (most recent call last):

  File "<ipython-input-76-2270d5205ba2>", line 4, in <module>
    ax = dta.ix['1950':].plot(ax=ax)

  File "C:\Users\lenovo\anaconda3\lib\site-packages\pandas\core\generic.py", line 5274, in __getattr__
    return object.__getattribute__(self, name)

AttributeError: 'DataFrame' object has no attribute 'ix'


￼

from pandas_datareader.data import DataReader
endog = DataReader('UNRATE', 'fred', start='1954-01-01')
Traceback (most recent call last):

  File "<ipython-input-77-b897e14a26f1>", line 1, in <module>
    from pandas_datareader.data import DataReader

ModuleNotFoundError: No module named 'pandas_datareader'


pip install pandas_datareader
Collecting pandas_datareader
  Downloading pandas_datareader-0.8.1-py2.py3-none-any.whl (107 kB)
Requirement already satisfied: lxml in c:\users\lenovo\anaconda3\lib\site-packages (from pandas_datareader) (4.5.0)
Requirement already satisfied: requests>=2.3.0 in c:\users\lenovo\anaconda3\lib\site-packages (from pandas_datareader) (2.22.0)
Requirement already satisfied: pandas>=0.21 in c:\users\lenovo\anaconda3\lib\site-packages (from pandas_datareader) (1.0.1)
Requirement already satisfied: chardet<3.1.0,>=3.0.2 in c:\users\lenovo\anaconda3\lib\site-packages (from requests>=2.3.0->pandas_datareader) (3.0.4)
Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in c:\users\lenovo\anaconda3\lib\site-packages (from requests>=2.3.0->pandas_datareader) (1.25.8)
Requirement already satisfied: idna<2.9,>=2.5 in c:\users\lenovo\anaconda3\lib\site-packages (from requests>=2.3.0->pandas_datareader) (2.8)
Requirement already satisfied: certifi>=2017.4.17 in c:\users\lenovo\anaconda3\lib\site-packages (from requests>=2.3.0->pandas_datareader) (2019.11.28)
Requirement already satisfied: pytz>=2017.2 in c:\users\lenovo\anaconda3\lib\site-packages (from pandas>=0.21->pandas_datareader) (2019.3)
Requirement already satisfied: python-dateutil>=2.6.1 in c:\users\lenovo\anaconda3\lib\site-packages (from pandas>=0.21->pandas_datareader) (2.8.1)
Requirement already satisfied: numpy>=1.13.3 in c:\users\lenovo\anaconda3\lib\site-packages (from pandas>=0.21->pandas_datareader) (1.18.1)
Requirement already satisfied: six>=1.5 in c:\users\lenovo\anaconda3\lib\site-packages (from python-dateutil>=2.6.1->pandas>=0.21->pandas_datareader) (1.14.0)
Installing collected packages: pandas-datareader
Successfully installed pandas-datareader-0.8.1
Note: you may need to restart the kernel to use updated packages.

from pandas_datareader.data import DataReader
endog = DataReader('UNRATE', 'fred', start='1954-01-01')
C:\Users\lenovo\anaconda3\lib\site-packages\pandas_datareader\compat\__init__.py:7: FutureWarning: pandas.util.testing is deprecated. Use the functions in the public API at pandas.testing instead.
  from pandas.util.testing import assert_frame_equal
